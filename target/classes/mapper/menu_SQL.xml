<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="menu">

<select id="menuList" parameterType="hashmap"
		resultType="hashmap">
<![CDATA[
		SELECT  * 
		 FROM 
		 			PRODUCT
]]>

</select>

<select id="storePick" parameterType="hashmap"
		resultType="hashmap">
<![CDATA[
		SELECT  * 
		 FROM 
		 			S_MEMBER
		 WHERE 
		 	 		STORE=#{STORE}
]]>

</select>
<select id="menuDetail" parameterType="hashmap" resultType="hashmap">
<![CDATA[
      SELECT  
         * 
      FROM 
         PRODUCT
      WHERE
         P_IDX = #{P_IDX}
]]>
</select>

<insert id="insertCart" parameterType="hashmap">
   INSERT INTO 
      CART (CP_NAME,C_PRICE, C_OP,C_IDX, C_STORE, CB_IDX, CP_IDX, C_COUNT, CP_IMG)
   VALUES (
      #{CP_NAME},
      #{C_PRICE},
      #{C_OP},
      C_IDX_SEQ.NEXTVAL,
      #{C_STORE},
      #{CB_IDX},
      #{CP_IDX},
      #{C_COUNT},
      #{CP_IMG}
      
   )
   </insert>
   
   
<select id="cartList" parameterType="hashmap"
		resultType="hashmap">
<![CDATA[
		SELECT  c.*,s.S_NAME,s.STORE 
		 FROM 
		 CART c, S_MEMBER s
		 WHERE
		 c.C_STORE = s.STORE
		 AND
		 C_STORE=#{C_STORE} 
		 AND
		 CB_IDX=#{B_PHONE}
		 
]]>

</select>
</mapper>